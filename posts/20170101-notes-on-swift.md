---
title: "Swift 笔记：运算符"
author: "Kevin Wu"
date: "2017/01/01"
category: ["swift"]
---


## 空合运算符

空合运算符将对可选类型进行空判断，如果它包含一个值就进行解包，否则就返回一个默认值。

~~~
var a: Int? = nil
var b = a ?? 0
print("b=\(b)")  // b=0
~~~

## 区间运算符

~~~
// 闭区间
1...5   // 1 到 5

// 半开区间
// TODO: 在起点前后添加大于或小于都会编译错误，那么不包括起点的半开区间怎么写？
1..<5   // 1 到 4

// 单侧区间，不能遍历没有初始值的单侧区间，因为起点不知道
1...    // 1 到无穷大
...1    // 无穷小到 1

// 单侧半开区间
..<5    // 无穷小到 4
~~~

## 恒等运算符

结构体和枚举是值类型，它们被赋值到常量、变量或传递给函数时，其值总是被拷贝。类是引用类型，多个常量和变量可能引用同一个类实例，判断两个常量或变量是否引用同一个类实例可以用恒等运算符（`===`、`!==`）。

~~~
if a === b {
  // ...
}
~~~

## 溢出运算符

Swift 提供了三个溢出运算符来让系统支持整数溢出运算：溢出加法（`&+`）、溢出减法（`&-`）和溢出乘法（`&*`）。

~~~
var a = UInt8.max   // a=255
    a = a &+ 1      // a=0

var b = Int8.min    // b=-128
    b = b &- 1      // b=127
~~~
